<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta name="generator" content="jemdoc, see http://jemdoc.jaboc.net/" />
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link rel="stylesheet" href="data/jemdoc.css" type="text/css" />
<link rel="shortcut icon" type="image/x-icon" href="data/favicon.ico" />
<title>Implement a Simple Symbolic Execution Engine for Python Programs</title>
</head>
<body>
<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
<nav id="top-nav">
  <div class="nav-container">
<a href="index.html" class="nav-brand">Penghui&nbsp;Li</a>
<div class="nav-links">
<a href="data/cv.pdf">CV</a>
<a href="index.html#publications">Publications</a>
<a href="index.html#services">Services</a>
    </div>
  </div>
</nav>
<div id="layout-content">
<div id="toptitle">
<h1>Implement a Simple Symbolic Execution Engine for Python Programs</h1>
</div>
<p>Your goal in this challenge is to build a tool that performs basic symbolic execution for Python programs, focusing on path exploration and constraint solving to find concrete inputs that can reach each execution path. </p>
<p>This challenge may take approximately four hours to solve and is due by <b>the noon of Sept 11 2025</b>. 
<i>Evaluation follows a first-come, first-served basis, so we strongly encourage early submission to maximize your chances.</i></p>
<h2>What is Symbolic Execution?</h2>
<p><a href="https://en.wikipedia.org/wiki/Symbolic_execution">Symbolic execution</a> is a program analysis technique that executes a program with symbolic values instead of concrete inputs. Rather than running the program with specific values like &lsquo;x = 5&lsquo;, it &ldquo;simulates&rdquo; program execution using symbolic variables like &lsquo;x = X&lsquo; and explores all possible execution paths. For each path, it collects the path constraints that inputs must satisfy to reach that path, then uses a constraint solver like Z3 to find concrete input values.</p>
<h3>Example</h3>
<p>Consider the following Python program, the goal is to generate inputs that can execute each of the 3 paths.</p>
<div class="codeblock">
<div class="blockcontent"><pre>
<span class="statement">def</span> test_function(x, y):
    a = x + 1
    <span class="statement">if</span> a &gt; 10:
        b = y - 2
        <span class="statement">if</span> b &lt; 5:
            <span class="statement">return</span> <span class="string">"Path 1"</span>
        <span class="statement">else</span>:
            <span class="statement">return</span> <span class="string">"Path 2"</span>
    <span class="statement">else</span>:
        <span class="statement">return</span> <span class="string">"Path 3"</span>
</pre></div></div>
<h3>Step-by-Step Walk through</h3>
<p>1. Symbolic Variables: Start with symbolic inputs by assuming x and y can be any value (i.e., &lsquo;x = X&lsquo; and &lsquo;y = Y&lsquo;) instead of concrete values.</p>
<p>2. Variable Tracking: As the program executes symbolically, track variable value updates and propagations:</p>
<ul>
<li><p>a = X + 1</p>
</li>
<li><p>b = Y - 2 (only in first branch when needed)</p>
</li>
</ul>
<p>3. Path Exploration: The symbolic execution engine explores all branches and collects the corresponding constraints (conditions):</p>
<ul>
<li><p>Path 1: When (X + 1) &gt; 10 &amp;&amp; (Y - 2) &lt; 5</p>
</li>
<li><p>Path 2: When (X + 1) &gt; 10 &amp;&amp; (Y - 2) &gt;= 5</p>
</li>
<li><p>Path 3: When (X + 1) &lt;= 10</p>
</li>
</ul>
<p>4. Constraint Solving: Use <a href="https://pypi.org/project/z3-solver/">Z3 constraint solver</a> to find concrete values that satisfy each path's constraints. An example of using python <a href="https://pypi.org/project/z3-solver/">Z3 constraint solver</a> is provided below:</p>
<div class="codeblock">
<div class="blockcontent"><pre>
<span class="statement">from</span> z3 <span class="statement">import</span> *

X, Y = Int(<span class="string">'x'</span>), Int(<span class="string">'y'</span>)
solver = Solver()

<span class="comment"># Example: Add constraints <span class="statement">for</span> Path 1: (X + 1) &gt; 10 &amp;&amp; (Y-2) &lt; 5</span>
solver.add(X + 1 &gt; 10)
solver.add(Y - 2 &lt; 5)

<span class="comment"># Check <span class="statement">if</span> constraints are satisfiable</span>
<span class="statement">if</span> solver.check() == sat:
    model = solver.model()
    <span class="statement">print</span>(f<span class="string">"Solution: x = {model[x]}, y = {model[y]}"</span>)
<span class="statement">else</span>:
    <span class="statement">print</span>(<span class="string">"No solution exists (unreachable path)"</span>)
</pre></div></div>
<h2>Task Requirements</h2>
<p>The task is to write a tool that can perform such automated path exploration for Python functions.
Your tool takes as input a python source code file containing one single function.
It then analyzes the source code to collect the path constraints (against the function parameters), and accordingly invokes the Z3 solver to generate value assignments to function's parameters.
Note that there may be multiple valid input choices for a path constraint and you only need to provide one.</p>
<p>Real-world Python programs can be very complex so in this task focus only on:</p>
<ul>
<li><p>Operations: +, -, *, and comparison operators (&lt;, &gt;, &lt;=, &gt;=, ==, !=)  </p>
</li>
<li><p>Variables: Integer variables with basic assignments</p>
</li>
<li><p>Control Flow: Only if-statements (no loops, no function calls)</p>
</li>
</ul>
<p>Expected output format for the above example:</p>
<div class="codeblock">
<div class="blockcontent"><pre>
Found 3 execution paths:

Path 1:
    Constraints: (X + 1) &gt; 10 &amp;&amp; (Y - 2) &lt; 5
    Concrete input: x = 10, y = 6

Path 2:
    Constraints: (X + 1) &gt; 10 &amp;&amp; (Y - 2) &gt;= 5
    Concrete input: x = 10, y = 8

Path 3:
    Constraints: (X + 1) &lt;= 10
    Concrete input: x = 5, y = 0
</pre></div></div>
<h2>Hints</h2>
<p>1. Parse Simple Python Functions: Since the input is a source code file, you need to parse the content string into a more structured format. You may try Python's built-in <a href="https://docs.python.org/3/library/ast.html">ast</a> module to parse Python code into an Abstract Syntax Tree (AST).</p>
<p>2. Track Variable Assignments: When you see &lsquo;a = x + 1&lsquo;, remember that &lsquo;x&lsquo; represents the symbolic variable &lsquo;X&lsquo; so the expression represents &lsquo;X + 1&lsquo;</p>
<p>3. Collect Path Constraints: at if-statements (both true and false branch)
</p>
<h2>Submission</h2>
<p>We strongly suggest you implement your solution in Python. Please put everything in one script named as &lsquo;[uni].[file-extension]&lsquo; (e.g., &lsquo;pl2689.py&lsquo;). 
Your program shall accept one argument the path to the target python file, e.g., &lsquo;python3 pl2689.py target-file.py&lsquo; and print the results on screen.
Please upload your script to <a href="https://forms.gle/SZXijv8XgEBeyaJo9">this Google Form</a> and provide other necessary information for our consideration.</p>
<p>Good luck!</p>
</div>
<script>
  let mybutton = document.getElementById("myBtn");
  window.onscroll = function() {scrollFunction()};
  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }
  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }
</script>
</body>
</html>
