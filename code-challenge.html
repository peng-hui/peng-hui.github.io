<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta name="generator" content="jemdoc, see http://jemdoc.jaboc.net/" />
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link rel="stylesheet" href="data/jemdoc.css" type="text/css" />
<link rel="shortcut icon" type="image/x-icon" href="data/favicon.ico" />
<title>Implement a Simple Symbolic Execution Engine for Python Code</title>
</head>
<body>
<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
<nav id="top-nav">
  <div class="nav-container">
<a href="index.html" class="nav-brand">Penghui&nbsp;Li</a>
<div class="nav-links">
<a href="index.html#publications">Publications</a>
<a href="index.html#services">Services</a>
    </div>
  </div>
</nav>
<div id="layout-content">
<div id="toptitle">
<h1>Implement a Simple Symbolic Execution Engine for Python Code</h1>
</div>
<p>Your goal in this challenge is to build a tool that performs basic symbolic execution for Python programs, focusing on path exploration and constraint solving to find concrete inputs that can reach each execution path. This challenge may take a few hours to solve.</p>
<h2>What is Symbolic Execution?</h2>
<p>Symbolic execution is a program analysis technique that executes a program with symbolic values instead of concrete inputs. Rather than running the program with specific values like &lsquo;x = 5&lsquo;, it uses symbolic variables like &lsquo;x = X&lsquo; and explores all possible execution paths. For each path, it collects the constraints that inputs must satisfy to reach that path, then uses a constraint solver like Z3 to find concrete input values.</p>
<h3>Example</h3>
<p>Consider the following Python code, the goal is to generate inputs that can execute each of the 3 paths.</p>
<div class="codeblock">
<div class="blockcontent"><pre>
<span class="statement">def</span> test_function(x, y):
    a = x + 1
    <span class="statement">if</span> a &gt; 10:
        b = y - 2
        <span class="statement">if</span> b &lt; 5:
            <span class="statement">return</span> <span class="string">"Path 1"</span>
        <span class="statement">else</span>:
            <span class="statement">return</span> <span class="string">"Path 2"</span>
    <span class="statement">else</span>:
        <span class="statement">return</span> <span class="string">"Path 3"</span>
</pre></div></div>
<h3>Step-by-Step Walk through</h3>
<p>1. Symbolic Variables: Start with symbolic inputs by assuming x and y can be any value (i.e., &lsquo;x = X&lsquo; and &lsquo;y = Y&lsquo;) instead of concrete values.</p>
<p>2. Variable Tracking: As the program executes symbolically, track variable value updates and propagations:</p>
<ul>
<li><p>a = X + 1</p>
</li>
<li><p>b = Y - 2 (only in first branch when needed)</p>
</li>
</ul>
<p>3. Path Exploration: The symbolic execution engine explores all branches and collects the corresponding constraints (conditions):</p>
<ul>
<li><p>Path 1: When (X + 1) &gt; 10 &amp;&amp; (Y - 2) &lt; 5</p>
</li>
<li><p>Path 2: When (X + 1) &gt; 10 &amp;&amp; (Y - 2) &gt;= 5</p>
</li>
<li><p>Path 3: When (X + 1) &lt;= 10</p>
</li>
</ul>
<p>4. Constraint Solving: Use <a href="https://pypi.org/project/z3-solver/">Z3 constraint solver</a> to find concrete values that satisfy each path's constraints</p>
<h2>Task Requirements</h2>
<p>Write a tool that can perform symbolic path exploration to collect and solve the constraints for concrete input generation.</p>
<h3>Input/Output</h3>
<p>Your program takes as input a python source code file under analysis and outputs the path constraints (against the function parameters) and the corresponding concrete values:</p>
<div class="codeblock">
<div class="blockcontent"><pre>
Found 3 execution paths:

Path 1:
    Constraints: (x + 1) &gt; 10 &amp;&amp; (y - 2) &lt; 5
    Concrete input: x = 10, y = 6

Path 2:
    Constraints: (x + 1) &gt; 10 &amp;&amp; (y - 2) &gt;= 5
    Concrete input: x = 10, y = 8

Path 3:
    Constraints: (x + 1) &lt;= 10
    Concrete input: x = 5, y = 0
</pre></div></div>
<p>Note: there may be multiple valid inputs for each path constraint. Z3 will return one satisfying solution - you only need to provide one.</p>
<h3>Key Features to Implement</h3>
<p>1. Parse Simple Python Functions: Handle assignments and if-statements with basic operations</p>
<p>2. Track Variable Assignments: When you see &lsquo;a = x + 1&lsquo;, remember that &lsquo;a&lsquo; represents the symbolic expression &lsquo;x + 1&lsquo;</p>
<p>3. Collect Path Constraints: For each path, gather all the symbolic constraints (e.g., &lsquo;x + 1 &lt;= 10&lsquo;)</p>
<p>4. Use Z3 Constraint Solver: Generate concrete input values that satisfy each path's constraints</p>
<h3>Simplified Scope</h3>
<p>Focus only on:</p>
<ul>
<li><p>Variables: Integer variables with basic assignments</p>
</li>
<li><p>Operations: +, -, *, and comparison operators (&lt;, &gt;, &lt;=, &gt;=, ==, !=)  </p>
</li>
<li><p>Control Flow: Only if-statements (no loops, no function calls)</p>
</li>
<li><p>Goal: Handle simple variable assignments and generate test inputs for full path coverage</p>
</li>
</ul>
<h2>Hints</h2>
<p>1. Since the input is a source code file, you need to parse the content string into a more structured format. You may try Python's built-in <a href="https://docs.python.org/3/library/ast.html">ast</a> module to parse Python code into an Abstract Syntax Tree (AST).</p>
<p>2. An example of using python Z3.</p>
<div class="codeblock">
<div class="blockcontent"><pre>
<span class="statement">from</span> z3 <span class="statement">import</span> *

x, y = Int(<span class="string">'x'</span>), Int(<span class="string">'y'</span>)
solver = Solver()

<span class="comment"># Example: Add constraints <span class="statement">for</span> Path 1: (x+1) &gt; 10 AND (y-2) &lt; 5</span>
solver.add(x + 1 &gt; 10)
solver.add(y - 2 &lt; 5)

<span class="comment"># Check <span class="statement">if</span> constraints are satisfiable</span>
<span class="statement">if</span> solver.check() == sat:
    model = solver.model()
    <span class="statement">print</span>(f<span class="string">"Solution: x = {model[x]}, y = {model[y]}"</span>)
<span class="statement">else</span>:
    <span class="statement">print</span>(<span class="string">"No solution exists (unreachable path)"</span>)
</pre></div></div>
<h2>Submission</h2>
<p>Please upload a single program to <a href="https://forms.gle/SZXijv8XgEBeyaJo9">this Google Form</a> on or before Sept 12 2025. We strongly suggest you implement it in python.
Please name your script in the format &lsquo;[uni].[file-extension]&lsquo;, e.g., &lsquo;pl2689.py&lsquo; and accept one argument the path to the target python file, e.g., &lsquo;python3 pl2689.py target-file.py&lsquo;. Feel free to contact Penghui Li (pl2689@columbia.edu) if you need clarifications. Good luck</p>
</div>
<script>
  let mybutton = document.getElementById("myBtn");
  window.onscroll = function() {scrollFunction()};
  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }
  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }
</script>
</body>
</html>
